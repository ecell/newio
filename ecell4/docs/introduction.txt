=============
はじめに
=============

ecell4 パッケージは、e-cellシミュレータのための HDF5 に基づいたデータ
交換フォーマットを扱うためのパッケージです。

ecell4 パッケージは、HDF5 データの扱いを様式化して、最小限で一貫性のあ
るインタフェースでデータの永続化・復元をサポートし、全てのデータに共通
の属性をもたせます。

開発者は、 ecell4 パッケージで定義された各種クラス（コンポーネントク
ラス）を使ったり、拡張したりして、シミュレータごとに固有のデータを
HDF5形式のファイルに保存できます。

使い方
=============

あるシミュレータの扱うワールド(World)データ構造を保存したいとします。
このシミュレータは 15000 ステップごとにコールバック関数 cbfunc() を呼
び出して、シミュレーション対象空間中の全粒子の三次元位置を保存するとし
ましょう。::

  interrupter = FixedIntervalInterrupter(s, 1e-7, cbfunc)

cbfunc() には、シミュレータ ``s`` と時間が引数として渡されるとすると、
以下のように実装できます::

  def cbfunc(sim, time):
      world = World(name=str(time))
      ... # world にシミュレータのデータを渡す
      world.save('saved.hdf5')

これで、ワールドの管理するシミュレータのデータが、 ``saved.hdf5`` に書
き出されます。

反対に、保存済の HDF5 からシミュレータのデータを復元するには、ワールド
インスタンスを HDF5 ファイルから読み出します::

  sim = MySimulator(...)
  world = World.Load('saved.hdf5', new=False)
  ... # MySimulator に world のデータを渡す


